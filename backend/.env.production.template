# =============================================================================
# PLANTILLA DE VARIABLES DE ENTORNO - PRODUCCIÓN HOSTINGER
# CRM NGSO WhatsApp - Sistema de Cobranzas
# 
# INSTRUCCIONES:
# 1. Copiar este archivo a .env.production
# 2. Reemplazar todos los valores que digan "CAMBIAR_ESTO"
# 3. Generar secrets seguros para JWT
# 4. Configurar credenciales de WhatsApp
# =============================================================================

# -----------------------------------------------------------------------------
# APLICACIÓN
# -----------------------------------------------------------------------------
NODE_ENV=production
PORT=3000
FRONTEND_URL=https://ngso-chat.assoftware.xyz
TZ=America/Bogota

# -----------------------------------------------------------------------------
# BASE DE DATOS POSTGRESQL
# -----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=crm_admin
DB_PASSWORD=CAMBIAR_ESTO_POR_PASSWORD_SEGURO
DB_NAME=crm_whatsapp
DB_SSL=false

# Ejemplo de password seguro:
# DB_PASSWORD=CRM_Ngso2024!SecurePass#Prod

# -----------------------------------------------------------------------------
# REDIS
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Si quieres proteger Redis con password:
# REDIS_PASSWORD=redis_secure_password_2024

# -----------------------------------------------------------------------------
# AUTENTICACIÓN JWT
# -----------------------------------------------------------------------------
# IMPORTANTE: Generar secrets únicos y seguros
# Puedes usar: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CAMBIAR_ESTO_POR_SECRET_UNICO_MINIMO_32_CARACTERES
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=CAMBIAR_ESTO_POR_OTRO_SECRET_UNICO_DIFERENTE
JWT_REFRESH_EXPIRES_IN=7d

# Ejemplo:
# JWT_SECRET=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6
# JWT_REFRESH_SECRET=z6y5x4w3v2u1t0s9r8q7p6o5n4m3l2k1j0i9h8g7f6e5d4c3b2a1

# -----------------------------------------------------------------------------
# WHATSAPP - META CLOUD API
# -----------------------------------------------------------------------------
# Obtener en: https://developers.facebook.com/apps/
META_WHATSAPP_TOKEN=CAMBIAR_ESTO_POR_TU_TOKEN_DE_META
META_WHATSAPP_PHONE_NUMBER_ID=CAMBIAR_ESTO_POR_TU_PHONE_ID
META_WEBHOOK_VERIFY_TOKEN=CAMBIAR_ESTO_POR_TOKEN_DE_VERIFICACION
META_WHATSAPP_VERSION=v18.0

# Ejemplo:
# META_WHATSAPP_TOKEN=EAAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# META_WHATSAPP_PHONE_NUMBER_ID=123456789012345
# META_WEBHOOK_VERIFY_TOKEN=mi_token_verificacion_seguro_2024

# -----------------------------------------------------------------------------
# WHATSAPP - WPPCONNECT (ALTERNATIVA)
# -----------------------------------------------------------------------------
WPPCONNECT_SECRET_KEY=wppconnect-crm-ngso-2024-production
WPPCONNECT_PORT=21465

# Cambiar secret por uno único:
# WPPCONNECT_SECRET_KEY=wpp_secret_key_unico_2024

# -----------------------------------------------------------------------------
# CONFIGURACIÓN DE EMAIL - HOSTINGER SMTP
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.hostinger.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=admin@assoftware.xyz
SMTP_PASSWORD=CAMBIAR_ESTO_POR_PASSWORD_DE_EMAIL
SMTP_FROM=NGS&O CRM <admin@assoftware.xyz>
BACKUP_EMAIL_RECIPIENT=san.alejo0720@gmail.com

# Configuración actual:
# SMTP_PASSWORD=Adrian191017*

# Para otros proveedores de email:
# Gmail:
#   SMTP_HOST=smtp.gmail.com
#   SMTP_PORT=587
#   SMTP_USER=tu_email@gmail.com
#   SMTP_PASSWORD=tu_app_password (no usar password normal)
#
# Outlook:
#   SMTP_HOST=smtp-mail.outlook.com
#   SMTP_PORT=587
#   SMTP_USER=tu_email@outlook.com
#   SMTP_PASSWORD=tu_password

# -----------------------------------------------------------------------------
# LOGGING Y MONITOREO
# -----------------------------------------------------------------------------
LOG_LEVEL=info

# Niveles disponibles: error, warn, info, debug, verbose
# Para desarrollo: debug o verbose
# Para producción: info o warn

# -----------------------------------------------------------------------------
# CORS (OPCIONAL)
# -----------------------------------------------------------------------------
# Si necesitas permitir múltiples dominios:
# CORS_ORIGINS=https://ngso-chat.assoftware.xyz,https://otro-dominio.com

# -----------------------------------------------------------------------------
# LIMITES Y TIMEOUTS (OPCIONAL)
# -----------------------------------------------------------------------------
# REQUEST_TIMEOUT=30000
# MAX_UPLOAD_SIZE=10485760  # 10MB en bytes
# RATE_LIMIT_WINDOW=900000   # 15 minutos
# RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# FEATURES FLAGS (OPCIONAL)
# -----------------------------------------------------------------------------
# ENABLE_2FA=true
# ENABLE_EMAIL_VERIFICATION=true
# ENABLE_BOT=true
# ENABLE_WHATSAPP=true

# -----------------------------------------------------------------------------
# BACKUPS (OPCIONAL)
# -----------------------------------------------------------------------------
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *  # Cron: Diario a las 2 AM
# BACKUP_RETENTION_DAYS=7

# =============================================================================
# NOTAS IMPORTANTES:
# =============================================================================
# 
# 1. SEGURIDAD:
#    - NUNCA commitear este archivo con valores reales a Git
#    - Usar passwords únicos y complejos (mínimo 16 caracteres)
#    - Cambiar todos los secrets por defecto
#    - Rotar secrets periódicamente
# 
# 2. JWT SECRETS:
#    - Deben ser diferentes entre sí
#    - Mínimo 32 caracteres cada uno
#    - Usar caracteres alfanuméricos y especiales
#    - Si cambias los secrets, todos los tokens anteriores serán inválidos
# 
# 3. BASE DE DATOS:
#    - El password debe coincidir con el usado en PostgreSQL
#    - No usar caracteres especiales que puedan causar problemas en URLs
#    - Hacer backups regulares
# 
# 4. WHATSAPP:
#    - Puedes usar Meta Cloud API o WPPConnect, no ambos simultáneamente
#    - Meta Cloud API es recomendado para producción
#    - WPPConnect es más fácil para testing
# 
# 5. EMAIL:
#    - Hostinger SMTP está configurado por defecto
#    - Para Gmail, necesitas "App Password", no el password normal
#    - Verificar que el puerto y seguridad sean correctos
# 
# =============================================================================
# PARA GENERAR SECRETS SEGUROS:
# =============================================================================
# 
# Opción 1 - Node.js:
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# 
# Opción 2 - PowerShell:
#   -join ((65..90) + (97..122) + (48..57) | Get-Random -Count 64 | % {[char]$_})
# 
# Opción 3 - Online:
#   https://www.random.org/strings/
#   (Longitud: 64, Caracteres: alfanuméricos)
# 
# =============================================================================
